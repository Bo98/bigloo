@c =================================================================== @c
@c    serrano/prgm/project/bigloo/manuals/text.texi                    @c
@c    ------------------------------------------------------------     @c
@c    Author      :  Manuel Serrano                                    @c
@c    Creation    :  Tue Aug 31 13:16:21 2010                          @c
@c    Last change :                                                    @c
@c    Copyright   :  2010 Manuel Serrano                               @c
@c    ------------------------------------------------------------     @c
@c    Text manipulations                                               @c
@c =================================================================== @c

@c ------------------------------------------------------------------- @c
@c    Text ...                                                         @c
@c ------------------------------------------------------------------- @c
@node Text, Eval, Mail, Top
@comment  node-name,  next,  previous,  up
@chapter Text
@cindex text

This chapter describes the Bigloo API for processing texts.

@menu
* BibTeX::
* Character strings::
* Character encodings::
@end menu

@c ------------------------------------------------------------------- @c
@c    BibTeX ...                                                       @c
@c ------------------------------------------------------------------- @c
@node BibTeX, Character strings, ,Text
@section BibTeX

@deffn {Bigloo Text function} bibtex obj
@deffnx {Bigloo Text function} bibtex-port input-port
@deffnx {Bigloo Text function} bibtex-file file-name
@deffnx {Bigloo Text function} bibtex-string string
These function parse BibTeX sources. The variable @var{obj} can either
be an input-port or a string which denotes a file name. It returns a
list of BibTeX entries.

The functions @code{bibtex-port}, @code{bibtex-file}, and
@code{bibtex-string} are mere wrappers that invoke @code{bibtex}.

Example:
@smalllisp
(bibtex (open-input-string "@@book@{ as:sicp,
  author 	= @{Abelson, H. and Sussman, G.@},
  title 	= @{Structure and Interpretation of Computer Programs@},
  year 		= 1985,
  publisher 	= @{MIT Press@},
  address 	= @{Cambridge, Mass., USA@},
@}")) @result{} (("as:sicp" BOOK 
                  (author ("Abelson" "H.") ("Sussman" "G."))
                  (title . "Structure and Interpretation of Computer Programs")
                  (year . "1985")
                  (publisher . "MIT Press")
                  (address . "Cambridge, Mass., USA")))
@end smalllisp
@end deffn

@deffn {Bigloo Text function} bibtex-parse-autors string
This function parses the author field of a bibtex entry.

Example:
@smalllisp
(bibtex-parse-authors "Abelson, H. and Sussman, G.")
@result{} (("Abelson" "H.") ("Sussman" "G."))
@end smalllisp
@end deffn

@c ------------------------------------------------------------------- @c
@c    Character strings ...                                            @c
@c ------------------------------------------------------------------- @c
@node Character strings, Character encodings, BibTeX, Text
@section Character strings

@deffn {Bigloo Text function} hyphenate word hyphens
The function @code{hyphenate} accepts as input a single word and
returns as output a list of subwords. The argument @var{hyphens} is
an opaque data structure obtained by calling the function @code{load-hyphens}
or @code{make-hyphens}.

Example:
@smalllisp
(hyphenate "software" (load-hyphens 'en)) @result{} ("soft" "ware")
@end smalllisp
@end deffn

@deffn {Bigloo Text function} load-hyphens obj
Loads an hyphens table and returns a data structure suitable for
@code{hyphenate}. The variable @var{obj} can either be a file name
containing an hyphens table or a symbol denoting a pre-defined hyphens
table. Currently, Bigloo supports two tables: @code{en} for an English
table and @code{fr} for a French table.
@end deffn

@deffn {Bigloo Text function} make-hypens [:language] [:exceptions] [:patterns]
Creates an hyphens table out of the arguments @var{exceptions} and 
@var{patterns}.

@end deffn

@c ------------------------------------------------------------------- @c
@c    Character encodings ...                                          @c
@c ------------------------------------------------------------------- @c
@node Character encodings, , Character strings, Text
@section Character encodings

@deffn {Bigloo Text function} gb2312->ucs2 string
Converts a GB2312 (aka cp936) encoded 8bits string into an UCS2 string.
@end deffn
